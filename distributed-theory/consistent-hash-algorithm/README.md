### 一致性哈希算法

#### 基本要求
1. 相同的请求尽可能落到同一个服务器上
    * 请求方ip
    * 用户id
1. 尽可能保证每个服务器节点均匀的分摊流量
1. 尽可能保证服务器节点的上下线不影响流量的变更

#### 实现要求
1. 实现复杂程度
1. 分布均匀程度
1. 哈希碰撞概率
1. 性能

#### 核心
1. 一致性哈希环
1. 选取规则（hash key），进行hash值计算
1. 虚拟节点
    > 请求分布均匀，产生数据倾斜，节点扛不住，故障，缓存大面积失效，剩下的机器依然数据倾斜，恶性循环，出现缓存雪崩。

#### 引用
1. [代码示例](https://github.com/lexburner/consistent-hash-algorithm)
1. [文章](https://juejin.im/post/6844903789250478087)